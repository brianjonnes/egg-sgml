<!doctype html><html><body>

<h1><!--                -->
Egg-SGML (PHP) </h1>

Egg-SGML is little more than a depth-first tree search routine. Its usefulness is in separating code from data.

<h2><!--               -->
Overview </h2>

In the turmoil which followed the discovery that HTML was based on a standard which was not freely available, a few things seem to have gotten lost. <p/>

XML achieved two things: standardizing the underlying structure of HTML, and formalizing the document tree—something which SGML had brought about, but was rather lax over. <p/>

However, the requirement of compatibility meant that web-browsers continued, and still continue, to accept as input whatever they can see their way to making something out of. One might say that the strictness of XML is not wanted. <p/>

DTD's have limited value. They are not useful to those who need to hand-craft an XML document. They would have been useful to parse an SGML document, to know which tags are self-closing, but XML solved this problem by making sure that the document tree is apparent without any further context. <p/>

<h2><!--              -->
Example </h2>

A demonstration is necessary. If you have access to an Apache compatible webserver, with PHP (and mod_rewrite), setting up a clone of this repo as a virtual host should be all that's needed. <p/>

Alternatively, these pages are hosted at <a href="https://egg-sgml.killtheworld.co.za/">egg-sgml.killtheworld.co.za</a>, but beware! The owner of the base domain is an opinionated pratt; it's a matter of necessity.

<h2><!--            -->
Egg-SGML parser </h2>

As mentioned, a web browser doesn't complain when it receives a file which is non-conforming. Additionally, the developers of web browsers know very well that many webpages exist which are very old and do not have maintainers to upgrade them; thus pages conforming to old standards must continue to be parsed correctly. For this reason a web-browser must maintain a list of tags which formerly have been self-closing: hr, br, input, etc. <p/>

<b>Egg-SGML does not include any legacy assumptions.</b> Always indicate a tag is self-closing: &lt;hr/>, &lt;br/>, etc. <p/>

In contrast to XML, and more in line with a web browser's idea of HTML, attribute values may be single-quoted, double-quoted, or unquoted. Note that an unquoted attribute that ends with / must be succeeded by whitespace, or / will attach to >. For example, &lt;a href=/> is interpreted as &lt;a href="">&lt;/a>.<p/>

In terms of document structure, unclosed tags are automatically closed when a tag that precedes it (encloses it) is closed. For example, "&lt;b>this &lt;i>sample&lt;/b>&lt;/i>" will be interpreted as "&lt;b>this &lt;i>sample<u>&lt;/i></u>&lt;/b>&amp;lt;/i>" and appear as "<b>this <i>sample</i></b>&lt;/i>": the unmatched closing tags are sent to the output as literal values. <p/>

Finally, files must be UTF-8, and the zwnbsp byte order mark will be removed if found.

<h2><!--           -->
Security considerations</h2>

Note that the included root tag consumer can load any file on the system, which the webserver process has access to. Additionally, the way .htaccess is setup here, any file with no extension, under your webroot, may be requested with templates.php, and will be processed as an Egg-SGML file. <p/>

If you are going to include HTML from other sources, you must load a tag consumer that handles everything: tags must not devolve up the tag stack where tags such as 'include' will be allowed.


<!--
....
<p/>

XML Namespaces were created in order to solve the problem of the meaning of tags being contextual. However, tags must be contextual, even within a document.

<h2>Tag Consumers</h2>

Tag Consumer objects can add to the document tree, and simultaneously stack a new consumer. The most basic tag consumer is one which serializes the document node. The structure of a consumer will be detailed with the tree search routine later.
<p/>
The builtin tag consumer handles the following tags:
<p/>
<h3>a.site</h3>
Allow a navigation link to have a css class assigned only when that page is being viewed.
<h3>include</h3>
Add an external document tree under this tag.
<h3>record</h3>
Store the subtree of this node in an associative array with key from the "id" attribute.
<h3>play</h3>
Add the node from the corresponding record tag (with same "id" attribute) under this tag.
<p/> The use of the above tags allows us to, for example, store the header and footer in one complete document tree, which is included by individual pages. 

-->

</body></html>